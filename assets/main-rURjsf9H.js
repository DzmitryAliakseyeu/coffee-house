(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=t(n);fetch(n.href,c)}})();const le=[{srcImg:"../../../../../../public/contacts-info/pin-alt.svg",href:"https://maps.app.goo.gl/HcGzJkaL18asCgkq7",title:"pin-alt",content:"8558 Green Rd.,   LA",isLink:!0},{srcImg:"../../../../../../public/contacts-info/phone.svg",href:"tel:+16035550123",title:"phone",content:"+1 (603)  555-0123",isLink:!0},{srcImg:"../../../../../../public/contacts-info/clock.svg",href:"",title:"clock",content:"Mon-Sat: 9:00 AM – 23:00 PM",isLink:!1}];function ue(s){let e;const t=document.createElement("ul");t.classList.add("contacts-list"),s.append(t),le.forEach(a=>{const n=document.createElement("li");n.classList.add("contact-info"),n.classList.add(a.title),t.append(n),a.isLink&&(e=document.createElement("a"),e.classList.add("contact-link"),n.append(e));const c=document.createElement("span");c.classList.add("contact-icon"),c.classList.add(`contact-${a.title}-icon`),a.isLink?e.append(c):n.append(c);const o=document.createElement("span");o.classList.add("link-and-button"),o.classList.add("text-light"),o.classList.add("contact-text"),o.classList.add(`contact-${a.title}-text`),o.textContent=a.content,a.isLink?(e.append(o),n.addEventListener("click",()=>{window.open(a.href,"_blank")})):n.append(o)})}function me(s){const e=document.createElement("div");e.classList.add("contacts-info"),s.append(e);const t=document.createElement("h2");t.classList.add("heading-3"),t.classList.add("text-light"),t.classList.add("contacts-info-title"),e.append(t),t.textContent="Contact us",ue(e)}const pe=[{srcImg:"../../../../../../public/socials/twitter.svg",src:"#",title:"twitter"},{srcImg:"../../../../../../public/socials/instagram.svg",src:"#",title:"instagram"},{srcImg:"../../../../../../public/socials/facebook.svg",src:"#",title:"facebook"}];function fe(s){const e=document.createElement("ul");e.classList.add("socials"),s.append(e),pe.forEach(t=>{const a=document.createElement("li");a.classList.add("social"),a.classList.add(t.title),e.append(a);const n=document.createElement("a");n.classList.add("social-link"),a.append(n),n.href=t.src})}function ge(s){const e=document.createElement("div");e.classList.add("offer-footer"),s.append(e);const t=document.createElement("h2");t.classList.add("heading-2"),t.classList.add("text-light"),t.classList.add("offer-footer-title"),e.append(t),t.innerHTML='Sip, Savor, Smile. <span class="text-accent">It’s coffee time!</span>',fe(e)}function ft(s){const e=document.createElement("footer");e.classList.add("footer"),s.append(e),e.id="contact-us";const t=document.createElement("section");t.classList.add("container-section"),t.classList.add("bgc-dark"),e.append(t),ge(t),me(t)}function b({parent:s,className:e,action:t,text:a,hasIcon:n=!1,isHtml:c=!1}){const o=document.createElement("button");o.classList.add("button"),o.classList.add("link-and-button"),o.classList.add("text-dark"),o.classList.add(`button-${e}`),s.append(o),o.addEventListener("click",t);const r=document.createElement("span");if(r.classList.add(`button-${e}-text`),c?r.innerHTML=a:r.textContent=a,o.append(r),n){const i=document.createElement("span");i.classList.add(`button-${e}-icon`),o.append(i)}}function Le(s){const e=document.createElement("nav");e.classList.add("navigation"),s.append(e);const t=document.createElement("ul");t.classList.add("navigation-list"),e.append(t),[{text:"Favorite coffee",href:"index.html#favorite"},{text:"About",href:"index.html#about"},{text:"Mobile app",href:"index.html#mobile-app"},{text:"Contact us",href:"#contact-us"}].forEach(n=>{const c=document.createElement("li");c.classList.add("item");const o=document.createElement("a");o.classList.add("item-link"),o.classList.add("link-and-button"),o.classList.add("text-dark"),o.addEventListener("click",()=>{const r=document.querySelector(".navigation-box");if(r.classList.contains("open")){r.classList.remove("open"),document.documentElement.classList.remove("no-scroll");const i=document.querySelector(".button-burger"),d=document.querySelector(".button-burger-text");i.classList.remove("open"),d.classList.remove("open")}}),o.href=n.href,o.text=n.text,c.appendChild(o),t.appendChild(c)})}function ve(){const s=document.querySelector(".navigation-box"),e=document.querySelector(".button-burger"),t=document.querySelector(".button-burger-text");if(!s||!e)return;s.classList.contains("open")?(s.classList.remove("open"),e.classList.remove("open"),document.documentElement.classList.remove("no-scroll"),t.classList.remove("open")):(s.classList.add("open"),e.classList.add("open"),document.documentElement.classList.add("no-scroll"),t.classList.add("open"))}function he(s){const e=document.createElement("div");e.classList.add("container-header"),s.append(e);const t=document.createElement("div");t.classList.add("header-menu"),e.append(t);const a=document.createElement("a");a.classList.add("logo"),t.append(a),a.href="./index.html";const n=document.createElement("img");n.classList.add("logo-img"),a.append(n),n.src="./logo.svg";const c=document.createElement("div");c.classList.add("navigation-box"),t.append(c),Le(c);const o=()=>{const l=c.querySelector(".button-menu");l&&l.remove();const p=c.querySelector(".button-cart");p&&p.remove();const u=JSON.parse(localStorage.getItem("orders")??"[]"),v=u?u.length:0;window.innerWidth<=768?(b({parent:c,className:"menu",action:()=>{window.open("/coffee-house/pages/menu.html","_self")},text:"Menu",hasIcon:!0}),b({parent:c,className:"cart",action:()=>{window.open("/coffee-house/pages/cart.html","_self")},text:'<p class="burger-link text-dark cart-title">Cart</p><span class="cart-icon"></span>',hasIcon:!1,isHtml:!0})):(b({parent:c,className:"cart",action:()=>{window.open("/coffee-house/pages/cart.html","_self")},text:`<span class="cart-icon"></span> <p class="link-and-button text-dark cart-quantity">${v}</p>`,hasIcon:!1,isHtml:!0}),b({parent:c,className:"menu",action:()=>{window.open("/coffee-house/pages/menu.html","_self")},text:"Menu",hasIcon:!0}))};o(),window.addEventListener("resize",o);const r=document.querySelector(".button-cart-text");let i=JSON.parse(JSON.stringify(localStorage.getItem("signInUser"))),d=JSON.parse(JSON.stringify(localStorage.getItem("orders")));!sessionStorage.getItem("firstLoadDone")&&!i?(localStorage.clear(),sessionStorage.setItem("firstLoadDone","true"),r.classList.add("button-cart-text-hidden")):i||d?r.classList.remove("button-cart-text-hidden"):r.classList.add("button-cart-text-hidden"),b({parent:t,className:"burger",action:()=>{ve()},text:'<span class="burger-line line-1"></span> <span  class="burger-line line-2"></span>',hasIcon:!1,isHtml:!0})}function ye(s){const e=document.createElement("section");e.classList.add("container-section"),s.append(e);const t=document.createElement("video");t.classList.add("video"),e.append(t),t.src="./video/coffee-house-video.mp4",t.autoplay=!0,t.muted=!0,t.loop=!0;const a=document.createElement("div");a.classList.add("offer"),e.append(a);const n=document.createElement("h1");n.classList.add("text-light"),n.classList.add("heading-1"),n.classList.add("offer-title"),a.append(n),n.innerHTML='<span class="text-accent">Enjoy</span> premium coffee at our charming cafe';const c=document.createElement("p");c.classList.add("offer-text"),c.classList.add("text-light"),c.classList.add("medium"),a.append(c),c.textContent="With its inviting atmosphere and delicious coffee options, the Coffee House Resource is a popular destination for coffee lovers and those seeking a warm and inviting space to enjoy their favorite beverage.",b({parent:a,className:"offer",action:()=>{window.open("/coffee-house/pages/menu.html","_self")},text:"Menu",hasIcon:!0})}function gt(s,e=!0){const t=document.createElement("header");if(t.classList.add("header"),s.append(t),he(t),e){const a=document.createElement("section");a.classList.add("hero"),t.append(a),ye(a)}}function be(s){const e=document.querySelectorAll(".product-block");let t=JSON.parse(localStorage.getItem("orders")??"[]");const a=t.findLastIndex(n=>String(n.id)===s);if(a!==-1){t.splice(a,1),localStorage.setItem("orders",JSON.stringify(t));const n=Array.from(e).reverse().find(c=>c.id===s);n&&n.remove(),(function(){let o=JSON.parse(localStorage.getItem("orders")??"[]");const r=document.querySelector(".order-total-info-text"),i=document.querySelector(".cart-quantity"),d=o.reduce((l,p)=>l+p.totlatPrice,0);r&&(r.textContent=`$${d.toFixed(2)}`),i&&(i.textContent=o.length.toString())})()}}function Se(s,e){const t=document.createElement("div");t.classList.add("product-block"),t.id=e.id,s.append(t),b({parent:t,className:"remove-from-cart",action:()=>{be(t.id)},text:"",hasIcon:!0,isHtml:!1});const a=document.createElement("div");a.classList.add("product-image-box"),t.append(a);const n=document.createElement("img");n.classList.add("product-image"),a.append(n),n.src=`../../../../../public/products/${e.name}.png`;const c=document.createElement("div");c.classList.add("product-description"),t.append(c);const o=document.createElement("h3");o.classList.add("product-title"),o.classList.add("heading-3"),o.classList.add("text-dark"),c.append(o),o.textContent=e.name;const r=document.createElement("p");r.classList.add("product-extras"),r.classList.add("text-dark"),r.classList.add("medium"),c.append(r),r.textContent=`${e.selectSize}, ${e.extras.join(",")}`;const i=document.createElement("div");i.classList.add("product-price-block"),t.append(i);const d=document.createElement("h3");d.classList.add("product-price"),d.classList.add("heading-3"),d.classList.add("text-dark"),i.append(d);let l=e.price.additivies.reduce((u,v)=>u+v,0),p=JSON.parse(JSON.stringify(localStorage.getItem("signInUser")));if(d.textContent=+e.price.discount>0&&p?`$${(e.price.discount+l).toFixed(2)}`:`$${(e.price.size+l).toFixed(2)}`,e.price.discount&&p){d.classList.add("unavaliable-price");const u=document.createElement("h3");u.classList.add("heading-3"),u.classList.add("text-dark"),u.classList.add("preview-card-price"),i.append(u),u.textContent=`$${e.price.discount}`}else d.classList.remove("unavaliable-price")}function Ee(s){const e=document.createElement("div");e.classList.add("products-cart-container"),s.append(e),JSON.parse(localStorage.getItem("orders")||"[]").forEach(a=>{Se(e,a)})}function M(s){const e=document.querySelector(`${s}`);let t=e.firstElementChild;if(s===".modal"){const c=document.querySelector(".modal-card");c&&c.remove(),t=document.createElement("div"),t.classList.add("overlay"),e.append(t)}else if(s===".menu"){const c=document.querySelector(".menu-offer-tabs");c.style.display="none";const o=document.querySelector(".menu-products-grid");o.style.display="none"}else Array.from(t.children).forEach(c=>{c.style.display="none"});if(document.querySelector(".error"))return;const a=document.createElement("div");a.classList.add("error"),t?.append(a);const n=document.createElement("p");n.classList.add("error-text"),n.classList.add("heading-3"),n.classList.add("text-dark"),a.append(n),s===".menu"||s===".favorite"?n.textContent="Something went wrong. Please, refresh the page":n.textContent=" Something went wrong. Please, try again"}function N(s){const t=document.querySelector(`${s}`).firstElementChild,a=document.querySelector(".error");a&&(a.remove(),s===".menu"?(document.querySelector(".menu-offer-tabs").removeAttribute("style"),document.querySelector(".menu-products-grid").removeAttribute("style")):Array.from(t.children).forEach(n=>{n.removeAttribute("style")}))}function J(s){const e=document.querySelector(`${s}`);let t=e.firstElementChild;if(s===".modal"){const o=document.querySelector(".modal-card");o&&o.remove(),t=document.createElement("div"),t.classList.add("overlay"),e.append(t)}else if(s===".menu"){const o=document.querySelector(".menu-offer-tabs");o.style.display="none";const r=document.querySelector(".menu-products-grid");r.style.display="none"}else s===".modal-registration"||s===".modal-sign-in"||s===".modal-cart"?(t=document.createElement("div"),t.classList.add("overlay"),e.append(t)):Array.from(t.children).forEach(o=>{o.style.display="none"});if(document.querySelector(".loader"))return;const a=document.createElement("div");a.classList.add("loader"),t?.append(a);const n=document.createElement("p");n.classList.add("loader-text"),n.classList.add("heading-3"),n.classList.add("text-dark"),a.append(n),n.textContent="Loading...";const c=document.createElement("ul");c.classList.add("loader-images"),a.append(c);for(let o=0;o<3;o+=1){const r=document.createElement("li");r.classList.add("loader-image"),c.append(r)}}function x(s){let t=document.querySelector(`${s}`).firstElementChild;const a=document.querySelector(".loader");a&&(a.remove(),s===".modal"?(t=document.querySelector(".overlay"),t&&t.remove()):s===".menu"?(document.querySelector(".menu-offer-tabs").removeAttribute("style"),document.querySelector(".menu-products-grid").removeAttribute("style")):Array.from(t.children).forEach(n=>{n.removeAttribute("style")}))}async function ke(s){let e=localStorage.getItem("token"),t=await fetch("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(s)});if(!t.ok)throw new Error(`Server error: ${t.status}`);return await t.json()}async function xe(){const s=document.createElement("div");s.classList.add("modal-cart"),document.body.append(s),document.body.classList.add("no-scroll"),N(".modal-cart"),J(".modal-cart"),s.addEventListener("click",e=>{const t=s.querySelector(".overlay"),a=e.target;t.contains(a)||(document.body.classList.remove("no-scroll"),s.remove())});try{let e,t;if(e=JSON.parse(localStorage.getItem("orders")??"[]"),t={items:e.map(n=>({productId:+n.id,size:n.size,additives:n.extras||[],quantity:1})),totalPrice:e.reduce((n,c)=>n+ +c.totlatPrice,0)},await ke(t)){s.remove();let n=document.querySelector(".products-cart-container");n.innerHTML="";const c=document.createElement("h3");c.classList.add("heading-3"),c.classList.add("text-dark"),c.classList.add("succesfull-message"),n.append(c),c.textContent="Thank you for your order! Our manager will contact you shortly.";const o=document.querySelector(".order-total-info-text");let r=0;o.textContent=`$${r.toFixed(2)}`,localStorage.removeItem("orders")}s.addEventListener("click",n=>{const c=s.querySelector(".modal-card"),o=n.target;c.contains(o)||s.remove()})}catch{x(".modal-cart"),M(".modal-cart")}}function we(s){const e=document.createElement("div");e.classList.add("cart-buttons-block"),s.append(e),JSON.parse(JSON.stringify(localStorage.getItem("signInUser")))?b({parent:e,className:"confirm",action:async()=>{xe()},text:"Confirm",hasIcon:!1,isHtml:!1}):(b({parent:e,className:"sign-in",action:()=>{window.open("/pages/sign-in.html","_self")},text:"Sign In",hasIcon:!1,isHtml:!1}),b({parent:e,className:"registration",action:()=>{window.open("/pages/registration.html","_self")},text:"Registration",hasIcon:!1,isHtml:!1}))}async function ae(s){return await(await fetch("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/auth/profile",{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${s}`}})).json()}async function Q(s,e){const t=document.createElement("div");t.classList.add(`${e.toLowerCase().replace(/\s+/g,"-")}-block`),s.append(t);const a=document.createElement("h3");a.classList.add("order-info-title"),a.classList.add("heading-3"),a.classList.add("text-dark"),t.append(a),a.textContent=`${e}:`;const n=document.createElement("h3");if(n.classList.add("order-info-text"),n.classList.add(`order-${e.toLowerCase().replace(/\s+/g,"-")}-info-text`),n.classList.add("heading-3"),n.classList.add("text-dark"),t.append(n),e==="Total"){let o=JSON.parse(localStorage.getItem("orders")??"[]").reduce((r,i)=>r+i.totlatPrice,0);n.textContent=`$${o.toFixed(2)}`}else if(e==="Address"){let c=localStorage.getItem("token");if(c){let o=await ae(c);n.textContent=`${o.data.city}, ${o.data.street}, ${o.data.houseNumber}`}}else if(e==="Pay by"){let c=localStorage.getItem("token");if(c){let o=await ae(c);n.textContent=`${o.data.paymentMethod.charAt(0).toUpperCase()+o.data.paymentMethod.slice(1)}`}}}function Ce(s){const e=document.createElement("div");e.classList.add("order-info"),s.append(e),Q(e,"Total"),JSON.parse(JSON.stringify(localStorage.getItem("signInUser")))&&(Q(e,"Address"),Q(e,"Pay by"))}function Ie(s){const e=document.createElement("section");e.classList.add("cart"),s.append(e);const t=document.createElement("section");t.classList.add("container-section"),e.append(t);const a=document.createElement("h2");a.classList.add("cart-title"),a.classList.add("heading-2"),a.classList.add("text-dark"),a.textContent="Cart",t.append(a),Ee(t),Ce(t),we(t)}const Pe=[{srcImg:"../../public/menu/menu-offer-tabs/coffee.svg",src:"#",title:"Coffee"},{srcImg:".../../public/menu/menu-offer-tabs/tea.svg",src:"#",title:"Tea"},{srcImg:"../../public/menu/menu-offer-tabs/dessert.svg",src:"#",title:"Dessert"}];function re(s,e){return e.filter(a=>a.category===s)}async function Te(){return await(await fetch("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/products")).json()}async function qe(s){let e=await fetch(`https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/products/${s}`);if(!e.ok)throw new Error(`Server error: ${e.status}`);return e.json()}function $e(s){const e={...s};let t=localStorage.getItem("orders");const a=t?JSON.parse(t):[];a.push(e),localStorage.setItem("orders",JSON.stringify(a))}function V(s,e,t){const a=document.querySelector(".total-price"),n=document.querySelector(".total-price-block");if(!!e&&t>0)if(document.querySelector(".discount-card-price-modal")){document.querySelector(".discount-card-price-modal").textContent=`$${t}`;return}else{a.classList.add("unavaliable-price");const o=document.createElement("h3");o.classList.add("heading-3"),o.classList.add("text-dark"),o.classList.add("preview-card-price"),o.classList.add("discount-card-price-modal"),n.append(o),o.textContent=`$${t}`;return}else a.classList.remove("unavaliable-price"),document.querySelector(".discount-card-price-modal")&&document.querySelector(".discount-card-price-modal").remove()}let Oe=[0],m={id:"",name:"",selectSize:"",size:"s",extras:[],price:{base:0,size:0,discount:0,additivies:[]},totlatPrice:0};function Be(s,e){const t=e,a=e.price;m.id=e.id,m.name=e.name,m.selectSize=e.sizes.s.size,m.price.base=Number(e.sizes.s.price),m.price.size=Number(e.sizes.s.price),m.price.discount=e.sizes.s.discountPrice?+e.sizes.s.discountPrice:0;const n=!!localStorage.getItem("signInUser");m.totlatPrice=n&&e.discountPrice?+e.discountPrice:+m.price.base,document.addEventListener("keydown",E=>{(E.key==="Escape"||E.key==="Esc")&&(s.remove(),document.body.classList.remove("no-scroll"))});const c=document.createElement("div");c.classList.add("modal-card"),s.append(c),b({parent:c,className:"close-modal",action:()=>{s.remove(),document.body.classList.remove("no-scroll")},text:'<span class="close-modal-line line-1"></span> <span  class="close-modal-line line-2"></span>',hasIcon:!1,isHtml:!0});const o=document.createElement("div");o.classList.add("content-container"),c.append(o);const r=document.createElement("img");r.classList.add("img-card-block"),o.append(r),r.src=`../../../../../../public/products/${t.name}.png`;const i=document.createElement("div");i.classList.add("content-card-block"),o.append(i);const d=document.createElement("div");d.classList.add("text-content-card-block"),i.append(d);const l=document.createElement("h3");l.classList.add("heading-3"),l.classList.add("text-dark"),l.classList.add("preview-card-title"),d.append(l),l.textContent=t.name;const p=document.createElement("p");p.classList.add("medium"),p.classList.add("text-dark"),p.classList.add("preview-card-description"),d.append(p),p.textContent=t.description;for(let E=0;E<2;E++){const P=document.createElement("div");P.classList.add("type-of-buttons"),i.append(P);const w=document.createElement("p");w.classList.add("medium"),w.classList.add("text-dark"),w.classList.add("text-type"),P.append(w);const H=document.createElement("ul");H.classList.add("card-offer-tabs"),P.append(H);let W;E===0?(w.textContent="Size",W=Object.entries(t.sizes).map(([L,T])=>({key:L.toUpperCase(),title:T.size,addPrice:T.price,field:"size",discount:T?.discountPrice??0}))):(w.textContent="Additives",W=t.additives.map((L,T)=>({key:T+1,title:L.name,addPrice:L.price,field:"additives",discount:0}))),W.forEach((L,T)=>{const S=document.createElement("li");S.classList.add("tab-item"),S.classList.add(`tab-${L.key}`),S.id=String(L.key),m.size="s",T===0&&typeof L.key=="string"&&S.classList.add("tab-active"),H.append(S),S.addEventListener("click",()=>{if(L.field==="size"){let q=JSON.parse(JSON.stringify(localStorage.getItem("signInUser")));const $=H.querySelector(".tab-active");$&&$!==S&&$.classList.remove("tab-active"),S.classList.contains("tab-active")||(S.classList.add("tab-active"),m.selectSize=L.title,m.size=String(S.id).toLowerCase(),m.price.size=+L.addPrice,m.price.discount=L.discount?+L.discount:0,S.id==="S"&&(m.price.size=+L.addPrice,m.price.discount=e.sizes.s.discountPrice&&+e.sizes.s.discountPrice>0&&e.discountPrice!==null?+e.sizes.s.discountPrice:+(e.discountPrice??0)),m.price.discount>0||(m.price.discount=0),V(e,q,+m.price.discount))}if(L.field==="additives")if(S.classList.contains("tab-active")){S.classList.remove("tab-active"),m.extras=m.extras.filter($=>$!==L.title);const q=m.price.additivies.indexOf(+L.addPrice);q!==-1&&m.price.additivies.splice(q,1)}else S.classList.add("tab-active"),m.extras.push(L.title),m.price.additivies.push(+L.addPrice);let K=m.price.additivies.reduce((q,$)=>q+$,0);const X=!!I;let F=0;X&&m.price.discount>0?F=K+m.price.discount:X&&m.price.discount===0?F=K+m.price.size:X||(F=K+m.price.size),m.totlatPrice=F,y.textContent=`$${F.toFixed(2)}`});const G=document.createElement("a");G.classList.add("tab-link"),S.append(G);const D=document.createElement("span");D.classList.add("tab-icon"),D.classList.add("medium"),D.classList.add(`tab-${L.key}-icon-text`),D.textContent=String(L.key),G.append(D);const z=document.createElement("span");z.classList.add("link-and-button"),z.classList.add("text-dark"),z.classList.add("tab-text"),z.classList.add(`tab-${L.key}-text`),z.textContent=L.title,G.append(z)})}const u=document.createElement("div");u.classList.add("total"),i.append(u);const v=document.createElement("h3");v.classList.add("heading-3"),v.classList.add("text-dark"),v.classList.add("total-title"),u.append(v),v.textContent="Total:";const g=document.createElement("div");g.classList.add("total-price-block"),u.append(g);const y=document.createElement("h3");y.classList.add("heading-3"),y.classList.add("text-dark"),y.classList.add("total-price"),g.append(y);let I=JSON.parse(JSON.stringify(localStorage.getItem("signInUser")));if(m){const E=e.discountPrice?+e.discountPrice:0;V(e,I,E)}let te=+Oe.reduce((E,P)=>E+P,0)+ +a;y.textContent=`$${te.toFixed(2)}`;const B=document.createElement("div");B.classList.add("alert"),i.append(B);const se=document.createElement("span");se.classList.add("alert-icon"),B.append(se);const R=document.createElement("p");R.classList.add("alert-text"),R.classList.add("caption"),B.append(R),R.textContent="The cost is not final. Download our mobile app to see the final price and place your order. Earn loyalty points and enjoy your favorite coffee with up to 20% discount.",b({parent:i,className:"add-to-cart",action:()=>{$e(m);const E=document.querySelector(".cart-quantity");let P=JSON.parse(localStorage.getItem("orders")??"[]");E.textContent=P.length;const w=document.querySelector(".button-cart-text-hidden");w&&w.classList.remove("button-cart-text-hidden"),document.querySelector(".modal").remove(),document.body.classList.remove("no-scroll")},text:"Add to cart"})}async function ze(s){const e=document.createElement("div");e.classList.add("modal"),document.body.append(e),document.body.classList.add("no-scroll"),N(".modal"),J(".modal"),e.addEventListener("click",t=>{const a=e.querySelector(".overlay"),n=t.target;a.contains(n)||(document.body.classList.remove("no-scroll"),e.remove())});try{let a=(await qe(s)).data;setTimeout(()=>{x(".modal"),Be(e,a)},1e3),e.addEventListener("click",n=>{const c=e.querySelector(".modal-card"),o=n.target;c.contains(o)||e.remove()})}catch{x(".modal"),M(".modal")}}function ie({parent:s,id:e,srcImg:t,title:a,description:n,price:c,discountPrice:o}){const r=document.createElement("li");r.classList.add("preview-card"),s.append(r),r.id=String(e),r.addEventListener("click",h=>{let B=h.currentTarget.id;ze(B)});const i=document.createElement("div");i.classList.add("screen-card-block"),r.append(i);const d=document.createElement("img");d.classList.add("img-card-block"),r.append(d),d.src=t;const l=document.createElement("div");l.classList.add("content-card-block"),r.append(l);const p=document.createElement("div");p.classList.add("text-content-card-block"),l.append(p);const u=document.createElement("h3");u.classList.add("heading-3"),u.classList.add("text-dark"),u.classList.add("preview-card-title"),p.append(u),u.textContent=a;const v=document.createElement("p");v.classList.add("medium"),v.classList.add("text-dark"),v.classList.add("preview-card-description"),p.append(v),v.textContent=n;const g=document.createElement("div");g.classList.add("price-block"),l.append(g);const y=document.createElement("h3");y.classList.add("heading-3"),y.classList.add("text-dark"),y.classList.add("preview-card-price"),g.append(y),y.textContent=c;let I=JSON.parse(JSON.stringify(localStorage.getItem("signInUser")));if(o&&I){y.classList.add("unavaliable-price");const h=document.createElement("h3");h.classList.add("heading-3"),h.classList.add("text-dark"),h.classList.add("preview-card-price"),g.append(h),h.textContent=o}else y.classList.remove("unavaliable-price")}let Y,ee;async function Ae(s){const e=document.createElement("ul");e.classList.add("menu-products-grid"),s.append(e);const t=document.querySelector(".tab-active");N(".menu"),J(".menu");try{ee=(await Te()).data,setTimeout(()=>x(".menu"),1e3),Y=re(t.id,ee),Y.forEach(n=>{ie({parent:e,id:n.id,srcImg:`./products/${n.name}.png`,title:n.name,description:n.description,price:`$${n.price}`,...n.discountPrice?{discountPrice:`$${n.discountPrice}`}:{}})})}catch{x(".menu"),M(".menu")}}function Me(s){const e=document.createElement("ul");e.classList.add("menu-offer-tabs"),s.append(e),Pe.forEach((t,a)=>{const n=document.createElement("li");n.classList.add("tab-item"),n.classList.add(`tab-${t.title.toLowerCase()}`),n.id=t.title.toLowerCase(),a===0&&n.classList.add("tab-active"),n.addEventListener("click",()=>{const i=n.id;document.querySelector(".tab-active").classList.remove("tab-active"),document.getElementById(i).classList.add("tab-active");let p=re(i,ee);const u=document.querySelector(".menu-products-grid"),v=document.querySelectorAll(".preview-card"),g=document.querySelector(".button-load");g.classList.remove("hidden"),v.forEach(h=>h.remove()),p.forEach(h=>{ie({parent:u,id:h.id,srcImg:`../../../../public/products/${h.name}.png`,title:h.name,description:h.description,price:`$${h.price}`,...h.discountPrice?{discountPrice:`$${h.discountPrice}`}:{}})});const y=document.querySelectorAll(".preview-card");Array.from(y).filter(h=>window.getComputedStyle(h).display==="none").length===0&&g.classList.add("hidden")}),e.append(n);const c=document.createElement("a");c.classList.add("tab-link"),n.append(c);const o=document.createElement("span");o.classList.add("tab-icon"),o.classList.add(`tab-${t.title.toLowerCase()}-icon`),c.append(o);const r=document.createElement("span");r.classList.add("link-and-button"),r.classList.add("text-dark"),r.classList.add("tab-text"),r.classList.add(`tab-${t.title.toLowerCase()}-text`),r.textContent=t.title,c.append(r)})}function Ne(s){const e=document.createElement("div");e.classList.add("menu-offer-container"),s.append(e);const t=document.createElement("h2");t.classList.add("heading-2"),t.classList.add("text-dark"),t.classList.add("menu-offer-title"),e.append(t),t.innerHTML='Behind each of our cups hides an <span class="text-accent">amazing surprise</span>',Me(e)}function Je(s){const e=document.querySelectorAll(".preview-card");if(e.forEach(t=>t.style.display="flex"),e.length===s.length){document.querySelector(".button-load").classList.add("hidden");return}}function He(s){const e=document.createElement("section");e.classList.add("menu"),s.append(e);const t=document.createElement("section");t.classList.add("container-section"),e.append(t),Ne(t),Ae(t),b({parent:t,className:"load",action:()=>{Je(Y)},text:"",hasIcon:!0})}let f={login:"",password:"",confirmPassword:"",paymentMethod:"",address:{city:"",street:"",houseNumber:""}},C={login:"",password:""};function ne(s){if(s==="registarte"){const{login:a,password:n,paymentMethod:c,address:o}=f;return a.trim()!==""&&n.trim()!==""&&c.trim()!==""&&o.city.trim()!==""&&o.street.trim()!==""&&o.houseNumber.trim()!==""}const{login:e,password:t}=C;return e.trim()!==""&&t.trim()!==""}function O(){const s=document.querySelector(".button-registration-request"),e=document.querySelector(".button-sign-in-request");if(s){s.disabled=!ne("registrate");return}if(e){e.disabled=!ne("sign-in");return}}const U=[{city:"Warsaw",streets:["Nowy Świat","Marszałkowska","Puławska","Aleje Jerozolimskie","Mokotowska","Chmielna","Solidarności","Prosta","Tamka","Hoża"]},{city:"Krakow",streets:["Floriańska","Grodzka","Karmelicka","Dietla","Długa","Starowiślna","Lubicz","Szeroka","Kazimierza Wielkiego","Wielopole"]},{city:"Wroclaw",streets:["Świdnicka","Piłsudskiego","Grabiszyńska","Legnicka","Oławska","Krakowska","Księcia Witolda","Kościuszki","Traugutta","Sienkiewicza"]}];function oe(s,e,t,a){const n=document.createElement("div");n.classList.add("input-block",`input-block-${e}`),s.append(n);const c=document.createElement("label");c.classList.add("label","medium"),c.setAttribute("for",e),c.textContent=t,n.append(c);const o=document.createElement("input");o.type="text",o.id=e,o.classList.add("input-field","medium"),o.placeholder=a,n.append(o);const r=document.createElement("div");r.classList.add("dropdown-list"),n.append(r);function i(d,l=""){r.innerHTML="",d.filter(p=>p.toLowerCase().includes(l.toLowerCase())).forEach(p=>{const u=document.createElement("div");u.classList.add("dropdown-item"),u.textContent=p,u.addEventListener("click",()=>{if(o.value=p,r.classList.remove("show-list"),t.toLowerCase()==="city"){f.address.city=o.value,f.address.street="";const v=document.getElementById("street");v.value=""}t.toLowerCase()==="street"&&(f.address.street=o.value)}),r.append(u)})}return o.addEventListener("focus",()=>{if(t.toLowerCase()==="city")i(U.map(d=>d.city));else if(t.toLowerCase()==="street"){const d=U.find(l=>l.city===f.address.city);i(d?d.streets:[])}r.classList.add("show-list")}),o.addEventListener("input",()=>{if(t.toLowerCase()==="city"){i(U.map(l=>l.city),o.value),f.address.street="";const d=document.getElementById("street");d.value=""}else if(t.toLowerCase()==="street"){const d=U.find(l=>l.city===f.address.city);i(d?d.streets:[],o.value)}O(),r.classList.add("show-list")}),o.addEventListener("blur",()=>{O(),setTimeout(()=>r.classList.remove("show-list"),150)}),o}function De(s,e,t,a){const n=document.createElement("div");n.classList.add("input-radio"),n.classList.add(`input-radio-${e}`),s.append(n);const c=document.createElement("label");c.classList.add("label"),c.classList.add("medium"),c.textContent=t,n.append(c);const o=document.createElement("div");o.classList.add("radio-container"),n.append(o),a.forEach((r,i)=>{const d=document.createElement("label");d.classList.add("radio-option");const l=document.createElement("input");l.type="radio",l.name=e,l.value=r.value,i==0&&(l.checked=!0,f.paymentMethod=r.value.toLowerCase(),O(),l.dispatchEvent(new Event("change",{bubbles:!0})));const p=document.createElement("span");p.classList.add("custom-radio");const u=document.createElement("span");u.classList.add("radio-text"),u.classList.add("medium"),u.textContent=r.text,d.append(l,p,u),o.append(d),l.addEventListener("change",()=>{l.checked&&(f.paymentMethod=l.value.toLowerCase(),O())})})}function Fe(s,e){return s.value.trim()!==f.password?(e.textContent="Incorrect password",!1):!0}function je(s,e){const t=s.value.trim(),a=Number(t);return isNaN(a)?(e.textContent="Must be a number.",!1):a<=1?(e.textContent="House number must be greater than 1.",!1):!0}function Re(s,e){let t=s.value;return/^[A-Za-z]*$/.test(t)?t.length>0&&t.length<3?(e.textContent="Must be at least 3 characters long.",!1):t.length>0&&!/^[A-Za-z]/.test(t[0])?(e.textContent="Must start with a letter.",!1):!0:(e.textContent="Only English letters allowed.",!1)}function Ge(s,e){const t=s.value.trim();if(t.length>0&&t.length<6)return e.textContent="Must be at least 6 characters long.",!1;if(t.length>0&&!/[!@#$%^&*(),.?":{}|<>_\-+=~`[\]\\;'\/]/.test(t))return e.textContent="Must contain at least 1 special character.",!1;const a=document.getElementById("confirm-password");return a&&(a.disabled=!1),!0}function A(s,e,t,a,n){const c=document.createElement("div");c.classList.add("input-block"),c.classList.add(`input-block-${e}`),s.append(c);const o=document.createElement("label");o.classList.add("label"),o.classList.add("medium"),c.append(o),o.setAttribute("for",e),o.textContent=t;const r=document.createElement("input");r.classList.add("input-field"),r.classList.add("medium"),r.id=e,c.append(r),t.toLowerCase()==="confirm password"&&(r.disabled=!0);const i=document.createElement("p");i.classList.add("input-error"),c.append(i),r.type=a,r.placeholder=n,r.addEventListener("blur",()=>{let d=!0;t==="Login"?d=Re(r,i):t==="Password"?d=Ge(r,i):t.toLocaleLowerCase()==="confirm password"?d=Fe(r,i):t.toLocaleLowerCase()==="house number"&&(d=je(r,i)),d?(r.classList.remove("invalid"),i.style.color="transparent",t==="Login"&&(f.login=r.value,C.login=r.value),t==="Password"&&(f.password=r.value,C.password=r.value),t.toLocaleLowerCase()==="confirm password"&&(f.confirmPassword=r.value),t.toLocaleLowerCase()==="house number"&&(f.address.houseNumber=r.value),O()):(r.classList.add("invalid"),i.style.color="red")}),r.addEventListener("focus",()=>{r.classList.remove("invalid"),i.style.color="transparent"})}function Ue(s){const e=document.createElement("form");e.classList.add("inputs-container"),s.append(e),A(e,"login","Login","text","Placeholder"),A(e,"password","Password","password","Placeholder"),A(e,"confirm-password","Confirm Password","password","Placeholder"),oe(e,"city","City","Placeholder"),oe(e,"street","Street","Placeholder"),A(e,"house-number","House number","text","Placeholder"),De(e,"pay-by","Pay by",[{value:"Cash",text:"Cash"},{value:"Card",text:"Card"}]),O()}async function de(){let s=await fetch("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:C.login,password:C.password})});if(!s.ok)throw new Error(`Server error: ${s.status}`);return await s.json()}async function _e(){let s=await fetch("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:f.login,password:f.password,confirmPassword:f.password,city:f.address.city,street:f.address.street,houseNumber:+f.address.houseNumber,paymentMethod:f.paymentMethod})});if(!s.ok)throw new Error(`Server error: ${s.status}`);return await s.json()}async function We(){const s=document.createElement("div");s.classList.add("modal-registration"),document.body.append(s),document.body.classList.add("no-scroll"),N(".modal-registration"),J(".modal-registration"),s.addEventListener("click",e=>{const t=s.querySelector(".overlay"),a=e.target;t.contains(a)||(document.body.classList.remove("no-scroll"),s.remove())});try{await _e()&&(C.login=f.login,C.password=f.password,localStorage.setItem("signInUser",JSON.stringify(C)),await de()&&(setTimeout(()=>x(".menu-registration"),1e3),window.open("/pages/menu.html","_self"),localStorage.setItem("logedUser",JSON.stringify(f)))),s.addEventListener("click",t=>{const a=s.querySelector(".modal-card"),n=t.target;a.contains(n)||s.remove()})}catch{x(".modal-registration"),M(".modal-registration")}}function Ke(s){const e=document.createElement("section");e.classList.add("registration"),s.append(e);const t=document.createElement("section");t.classList.add("container-section"),e.append(t);const a=document.createElement("h2");a.classList.add("Registration-title"),a.classList.add("heading-2"),a.classList.add("text-dark"),a.textContent="Registration",t.append(a),Ue(t),b({parent:t,className:"registration-request",action:async()=>{We()},text:"Registration",hasIcon:!1});const n=document.querySelector(".button-registration-request");n.disabled=!0}async function Xe(){const s=document.createElement("div");s.classList.add("modal-sign-in"),document.body.append(s),document.body.classList.add("no-scroll"),N(".modal-sign-in"),J(".modal-sign-in"),s.addEventListener("click",e=>{const t=s.querySelector(".overlay"),a=e.target;t.contains(a)||(document.body.classList.remove("no-scroll"),s.remove())});try{let e=await de();localStorage.setItem("token",e.data.access_token),e&&(setTimeout(()=>x(".modal-sign-in"),1e3),window.open("/pages/menu.html","_self"),localStorage.setItem("signInUser",JSON.stringify(C))),s.addEventListener("click",t=>{const a=s.querySelector(".modal-card"),n=t.target;a.contains(n)||s.remove()})}catch{x(".modal-sign-in"),M(".modal-sign-in")}}function Qe(s){const e=document.createElement("div");e.classList.add("inputs-container"),s.append(e),A(e,"login","Login","text","Placeholder"),A(e,"password","Password","text","Placeholder")}function Ve(s){const e=document.createElement("section");e.classList.add("sign-in"),s.append(e);const t=document.createElement("section");t.classList.add("container-section"),e.append(t);const a=document.createElement("h2");a.classList.add("sign-in-title"),a.classList.add("heading-2"),a.classList.add("text-dark"),a.textContent="Sign In",t.append(a),Qe(t),b({parent:t,className:"sign-in-request",action:()=>{Xe()},text:"Sign In",hasIcon:!1}),O()}const Ze=[{srcImg:"./gallery/about-1.png",alt:"about-1"},{srcImg:"./gallery/about-2.png",alt:"about-2"},{srcImg:"./gallery/about-3.png",alt:"about-3"},{srcImg:"./gallery/about-4.png",alt:"about-4"}];function Ye(s){const e=document.createElement("div");e.classList.add("gallery"),s.append(e);let t;Ze.forEach((a,n)=>{n%2===0&&(t=document.createElement("div"),t.classList.add("gallery-container"),t.classList.add(`gallery-container-${n}`),e.append(t));const c=document.createElement("div");c.classList.add("img-box"),t.append(c),c.style.backgroundImage=`url(${a.srcImg})`})}function et(s){const e=document.createElement("section");e.classList.add("about"),s.append(e),e.id="about";const t=document.createElement("section");t.classList.add("container-section"),e.append(t);const a=document.createElement("h2");a.classList.add("heading-2"),a.classList.add("text-dark"),a.classList.add("about-title"),t.append(a),a.innerHTML='Resource is  <span class="text-accent">the perfect and cozy place</span> where you can enjoy a variety of hot beverages, relax, catch up with friends, or get some work done.',Ye(t)}function j(s){const e=document.querySelectorAll(".controller");e.forEach((t,a)=>{a!==s&&t.classList.remove("controller-active"),requestAnimationFrame(()=>{e[s].classList.add("controller-active")})})}const tt=[{name:"../../../../../../public/slider/coffee-slider-1.png",slideTitle:"S’mores Frappuccino",description:"This new drink takes an espresso and mixes it with brown sugar and cinnamon before being topped with oat milk.",price:"$5.50"},{name:"../../../../../../public/slider/coffee-slider-2.png",slideTitle:"Caramel Macchiato",description:"Fragrant and unique classic espresso with rich caramel-peanut syrup, with cream under whipped thick foam.",price:"$5.00"},{name:"../../../../../../public/slider/coffee-slider-3.png",slideTitle:"Ice coffee",description:"A popular summer drink that tones and invigorates. Prepared from coffee, milk and ice.",price:"$4.50"}];function st(s){const e=document.createElement("ul");e.classList.add("controls"),s.append(e),tt.forEach((t,a)=>{const n=document.createElement("li");n.classList.add("controller"),n.id=`controller-${a}`,e.append(n)})}function _(s){const e=document.querySelector(".row-slider");e&&(e.style.transform=`translateX(-${s*100}%)`)}function ce(s){let e=s-1;return e<0?(s=2,_(s),j(s),s):(_(e),s=e,j(s),s)}function Z(s){let e=s+1;return e>2?(s=0,_(s),j(s),s):(_(e),s=e,j(s),s)}async function at(){let s=await fetch("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/products/favorites");if(!s.ok)throw new Error(`Server error: ${s.status}`);return await s.json()}function nt(s,e){const t=document.createElement("div");t.classList.add("content"),s.append(t);const a=document.createElement("div");a.classList.add("image-box"),t.append(a);const n=document.createElement("img");n.classList.add("image"),a.append(n),n.src=`./slider/${e.name}.png`;const c=document.createElement("div");c.classList.add("slider-info"),t.append(c);const o=document.createElement("h3");o.classList.add("heading-3"),o.classList.add("text-dark"),o.classList.add("slide-title"),o.textContent=e.name,c.append(o);const r=document.createElement("p");r.classList.add("medium"),r.classList.add("text-dark"),r.classList.add("slide-description"),r.textContent=e.description,c.append(r);const i=document.createElement("h3");i.classList.add("heading-3"),i.classList.add("text-dark"),i.classList.add("slide-price"),i.textContent=`$${e.price}`,c.append(i)}async function ot(s){const e=document.createElement("div");e.classList.add("row-slider"),s.append(e);let t=[];N(".favorite"),J(".favorite");try{t=(await at()).data,setTimeout(()=>x(".favorite"),1e3),t.forEach(n=>{nt(e,n)})}catch{t=[],x(".favorite"),M(".favorite")}}function ct(s){const e=document.createElement("div");e.classList.add("slider-track"),s.append(e),ot(e)}let k=0;function rt(s){let e,t=5e3,a,n=!1,c=0,o=0;const r=document.createElement("div");r.classList.add("slider"),s.append(r),b({parent:r,className:"slider-left",action:()=>{k=ce(k),d()},text:"",hasIcon:!0}),ct(r),b({parent:r,className:"slider-right",action:()=>{k=Z(k),d()},text:"",hasIcon:!0});function i(){return a=Date.now(),setTimeout(()=>{k=Z(k),d()},t)}function d(){clearTimeout(e),t=5e3,e=i()}function l(){if(n)return;n=!0,clearTimeout(e);const g=Date.now()-a;t-=g,u()}function p(){n&&(n=!1,e=i(),v())}function u(){const g=document.querySelector(".controller.controller-active::after");g&&(g.style.animationPlayState="paused")}function v(){const g=document.querySelector(".controller.controller-active::after");g&&(g.style.animationPlayState="running")}r.addEventListener("mouseenter",l),r.addEventListener("mouseleave",p),r.addEventListener("touchstart",g=>{l(),c=g.touches[0].clientX},{passive:!0}),r.addEventListener("touchend",g=>{o=g.changedTouches[0].clientX;const y=o-c,I=50;y>I?(k=ce(k),d()):y<-I&&(k=Z(k),d()),p()},{passive:!0}),r.addEventListener("touchcancel",p,{passive:!0}),e=i()}function it(s){const e=document.createElement("div");e.classList.add("slider-container"),s.append(e),rt(e),st(e),j(k)}function dt(s){const e=document.createElement("section");e.classList.add("favorite"),s.append(e),e.id="favorite";const t=document.createElement("section");t.classList.add("container-section"),e.append(t);const a=document.createElement("h2");a.classList.add("heading-2"),a.classList.add("text-dark"),a.classList.add("favorite-title"),t.append(a),a.innerHTML='Choose your <span class="text-accent">favorite</span> coffee',it(t)}function lt(s){const e=document.createElement("div");e.classList.add("mobile"),s.append(e);const t=document.createElement("img");t.classList.add("mobile-screens"),e.append(t),t.alt="mobile-screens",t.src="./mobile-app/mobile-screens.png"}function ut(s){const e=document.createElement("div");e.classList.add("offer-ma-buttons"),s.append(e),b({parent:e,className:"offer-ma-app-store",action:()=>console.log("click"),text:'<span class="caption text-dark">Available on the</span><span class="link-and-button text-dark">App Store</span>',hasIcon:!0,isHtml:!0}),b({parent:e,className:"offer-ma-google-play",action:()=>console.log("click"),text:'<span class="caption text-dark">Available on</span><span class="link-and-button text-dark">Google Play</span>',hasIcon:!0,isHtml:!0})}function mt(s){const e=document.createElement("div");e.classList.add("offer-mobile-app"),s.append(e);const t=document.createElement("h2");t.classList.add("heading-2"),t.classList.add("text-dark"),t.classList.add("offer-ma-title"),e.append(t),t.innerHTML='<span class="text-accent">Download</span> our apps to start ordering';const a=document.createElement("p");a.classList.add("medium"),a.classList.add("text-dark"),a.classList.add("offer-text"),a.innerHTML="Download the Resource app today and experience the comfort of ordering your favorite coffee from wherever you are",e.append(a),ut(e)}function pt(s){const e=document.createElement("section");e.classList.add("mobile-app"),s.append(e),e.id="mobile-app";const t=document.createElement("section");t.classList.add("container-section"),e.append(t),mt(t),lt(t)}function Lt(s,e=!0,t=!1,a=!1,n=!1,c=!1){const o=document.createElement("main");o.classList.add("main"),s.append(o),e?(dt(o),et(o),pt(o)):t?He(o):a?Ie(o):n?Ve(o):c&&Ke(o)}export{Lt as a,ft as b,gt as c};
